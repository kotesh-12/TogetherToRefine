admission.html
 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admission Portal</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f2f2f2; margin: 0; padding: 0; }
    .container { max-width: 600px; margin: 40px auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h2 { text-align: center; margin-bottom: 20px; }
    button { padding: 10px 15px; margin: 5px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; }
    .teacher-btn { background-color: #3498db; color: white; }
    .student-btn { background-color: #2ecc71; color: white; }
    .form-group { margin-bottom: 15px; }
    label { display: block; margin-bottom: 5px; }
    input, select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
    #success { display: none; color: green; text-align: center; margin-top: 20px; }
  </style>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="container">
    <h2>üìã Admission & Requipt Form</h2>

    <div style="text-align: center;">
      <button class="teacher-btn" onclick="selectType('teacher')">Requipt (Teacher)</button>
      <button class="student-btn" onclick="selectType('student')">Admission (Student)</button>
    </div>

    <form id="admissionForm" onsubmit="submitForm(event)" style="margin-top: 20px;">
      <div class="form-group">
        <label for="name">Full Name</label>
        <input type="text" id="name" required />
      </div>
      <div class="form-group">
        <label for="email">Email (Created by Institution)</label>
        <input type="email" id="email" required />
      </div>
      <div id="extraFields"></div>

      <button type="submit" style="background-color: #8e44ad; color: white;">Submit</button>
    </form>

    <div id="success">
      ‚úÖ Submitted Successfully!<br><br>
      <button onclick="goBack()">üîô Back to Allotment</button>
    </div>
  </div>

<script>
  const firebaseConfig = {
  apiKey: "AIzaSyDWHnST2fHu2xgtL3tu7WQ0bJZ6AMzfPbY",
  authDomain: "together-to-refine.firebaseapp.com", // ‚úÖ Correct
  projectId: "together-to-refine",
  storageBucket: "together-to-refine.appspot.com",   // ‚úÖ Fix this line
  messagingSenderId: "360106072129",
  appId: "1:360106072129:web:eb706cf7d7a299ebabcec0",
  measurementId: "G-2HKGEJSKHR"
};
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  let selectedRole = "";

  function selectType(type) {
    selectedRole = type;
    const fields = document.getElementById("extraFields");

    if (type === "teacher") {
      fields.innerHTML = `
        <div class="form-group">
          <label for="subject">Subject</label>
          <input type="text" id="subject" required />
        </div>
      `;
    } else {
      fields.innerHTML = `
        <div class="form-group">
          <label for="age">Age</label>
          <input type="number" id="age" required />
        </div>
        <div class="form-group">
          <label for="class">Class</label>
          <select id="class" required>
            <option value="">Select Class</option>
            <option value="Nursery">Nursery</option>
            <option value="LKG">LKG</option>
            <option value="UKG">UKG</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
        </div>
      `;
    }
  }

  async function submitForm(event) {
    event.preventDefault();
    if (!selectedRole) return alert("‚ùó Please select Requipt or Admission first");

    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();

    const data = { name, email };

    if (selectedRole === "teacher") {
      const subject = document.getElementById("subject").value.trim();
      if (!subject) return alert("Please enter subject");
      data.subject = subject;
    } else {
      const age = document.getElementById("age").value.trim();
      const classVal = document.getElementById("class").value;
      if (!age || !classVal) return alert("Please fill all fields");
      data.age = age;
      data.class = classVal;
    }

    try {
      // Save under students/ or teachers/
      await db.collection(selectedRole + "s").doc(email).set(data);

      // Also create user record with role
      await db.collection("users").doc(email).set({
        email: email,
        role: selectedRole
      });

      document.getElementById("admissionForm").style.display = "none";
      document.getElementById("success").style.display = "block";
    } catch (err) {
      alert("Error: " + err.message);
    }
  }

  function goBack() {
    window.location.href = "allotment.html";
  }
</script>
</body>
</html>